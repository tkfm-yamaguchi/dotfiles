# Some software overwrites my configuration without any notices (like boxen).
# It discourages to keep the portability so that I write a specific configurations
# in a separated ( this ) file.

[alias]
  addu = add -u
  amend = commit --amend
  b = branch
  branches = branch -a
  cancel = !git commit -a -m 'Temporary commit for cancel' && git reset --hard HEAD~
  cm = commit -v
  co = checkout
  df = diff
  dfc = diff --cached
  dfw = diff --color-words
  filelog = log -u
  fp = fetch --prune
  push-rm-tag = "!f(){ git push $1 :refs/tags/$2; }; f"
  push-tags = "!f(){ git push $1 --tags; }; f"
  rbi = rebase -i
  rbia = rebase -i --autosquash
  reamend = commit --amend -C HEAD
  remotes = remote -v
  sm = submodule
  sst = status --short --branch
  st = status
  sup = "submodule foreach \"git co master; git pull\""
  unstage = reset HEAD

  # aliases to referring log/history
  graph   = log     --graph --all                      --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%aN>%Creset'
  hist    = log     --graph --all --color --date=short --pretty=format:'%Cred%h%Creset %C(bold blue)|%aN| %Creset%s%C(yellow)%d%Creset'
  g       = log -20 --graph --all --color --date=short --pretty=format:'%Cred%h%Creset %C(bold blue)|%aN| %Creset%s%C(yellow)%d%Creset'
  history = log     --graph --all --color --date=short --pretty=format:'%Cred%h%Creset %C(bold blue)|%aN| %Creset%s%C(yellow)%d%Creset %Cgreen(%cr)'

  # use vimdiff
  vd = difftool --tool=vimdiff --no-prompt

[color]
  ui = true

[core]
  editor = vim
  quotepath = false
  autocrlf = input
  safecrlf = true
  attributesfile = ~/.dotfiles/.gitattributes
  precomposeunicode = true
  excludesfile = ~/.gitignore_global

[diff]
  algorithm = histogram
  # algorithm = patience
  commpactionHeuristic = true

[rebase]
  autosquash = true

[diff "json"]
  textconv = "perl -MJSON -0e \"print JSON->new->canonical->pretty->encode(decode_json(<>))\""

# exiftool should be installed
[diff "exif"]
  textconv = "exiftool"

[interactive]
  diffFilter = diff-highlight

[pager]
  log  = "diff-highlight | less"
  show = "diff-highlight | less"
  diff = "diff-highlight | less"

[push]
  default = simple

# http://git-scm.com/docs/git-rerere.html
# http://d.hatena.ne.jp/unpush/20091010/1255186302
[rerere]
  enabled = true

[ghq]
  root = ~/local/src

## Examples
#
#[url "git@github.com:"]
#  pushinsteadof = "git://github.com/"
#  pushinsteadof = "https://github.com/"



# vim: ft=gitconfig sw=2 ts=2
